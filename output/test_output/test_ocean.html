
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1">
<title>markdown-css</title><style type="text/css">a[href^="http"]:empty::before {
    content: attr(href)
    }
::-webkit-input-placeholder {
    color: #ccc
    }
::-moz-placeholder {
    color: #ccc
    }
:-ms-input-placeholder {
    color: #ccc
    }
:-moz-placeholder {
    color: #ccc
    }
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0
    }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none
    }
button::-moz-focus-inner, input::-moz-focus-inner {
    border: 0;
    padding: 0
    }
q:before, q:after, blockquote:before, blockquote:after {
    content: "";
    content: none
    }</style></head>
<body style='outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; vertical-align: baseline; font-family: "PingFang SC", "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, sans-serif; color: #434343; line-height: 1.5; font-size: 14px; text-rendering: optimizelegibility; width: 100%; height: 100%; overflow: auto; font-weight: normal; padding: 20px; margin: 0 auto; overflow-y: scroll; -webkit-text-size-adjust: none; -webkit-font-smoothing: antialiased; -webkit-overflow-scrolling: touch; -webkit-tap-highlight-color: rgba(0, 0, 0, 0.08); background-color: #fff; min-height: 100%'><h1 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 26px">用 markdown 自定义排版公众号文章</h1>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">可能吧的阿禅的之前写了一篇文章介绍了他是如何排版公众号文章的：思路就是用 markdown 写作，然后使用专门的工具导出为 html 文件，最后把自定义的样式应用到导出的文件，复制粘贴最终的内容到微信公众号。</p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">在这篇文章中，我将一步步说明如何把阿禅的思路应用到时间中。</p>
<h2 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 20px">选择一款舒适的 markdown 写作工具</h2>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">markdown 的写作工具有很多，这里我只介绍两款 mac 下的软件，非常好用，而且免费开源</p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px"><span style="display:block; outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch"><span style="margin-right: 10px; outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch">•</span>
<a href="http://www.typora.io/" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">Typora</a> </span><span style="display:block; outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch"><span style="margin-right: 10px; outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch">•</span>
<a href="https://github.com/MacDownApp/macdown" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">macdown</a> </span></p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">这两款 markdown 编辑器都支持所见即所得写作方式，支持多种主题、支持导出各种格式的文件。</p>
<h2 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 20px">学习 markdown 语法</h2>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">markdown 的语法非常简单，对于一般性的写作，只需要记住一些常用的标记即可，markdown 的教程很多，在此推荐 <strong style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-weight: bold"><a href="http://wowubuntu.com/markdown/" target="_blank" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">http://wowubuntu.com/markdown/</a></strong>。</p>
<h2 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 20px">导出不带样式的 html 文件</h2>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">借助写作工具，markdown 可以非常容易地导出 html 文件，为了可以自定义样式和排版，一定要选择<strong style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-weight: bold">无样式</strong>的导出。</p>
<h2 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 20px">自定义导出 html 文件的样式</h2>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">为了可以完全掌控排版的效果和样式，你需要编写完整的 css 来应用到导出的文件，对此你可以选择学习编写完整的 css，或者请教你身边的程序员朋友帮你完成这一步。</p>
<h2 style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; color: #383838; letter-spacing: 0; text-transform: none; font-weight: 400; font-style: normal; line-height: 1.2; margin-bottom: 10px; font-size: 20px">应用样式到 html 文件</h2>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">想要自定义样式完全发挥作用，这些自定义样式最终应该是以<strong style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-weight: bold">内联</strong>的方式出现在导出的 html 文件中，这也是微信公众号提供的这类富文本编辑器的功能所在，为了把你在上一步编写的外部 css 变成 html 的内联样式，你需要像阿禅在文章中说的那样：写一个 replace 的函数脚本，挨个替换。为了简化这一步的操作，我编写了一个小工具 <strong style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-weight: bold">markdown-css</strong> 来完成 css 样式从外部到内联的转换。</p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">markdown-css 的使用很简单，文末会附有相应的地址告诉你该如何安装和使用，类似于这样：</p>
<pre lang="undefined" style='outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; -webkit-overflow-scrolling: touch; white-space: pre-wrap; font-family: Monaco, "Andale Mono", "lucida console", "Courier New", monospace; font-size: 12px; line-height: 1.5; border-radius: 5px; vertical-align: baseline; box-shadow: none; padding: 10px; color: #268bd2; background: #f8f8f8; margin: 20px 0; overflow: scroll; overflow-x: auto; overflow-y: hidden; word-wrap: normal'>
markdown-css post.html --style=mystyle.css --out=public
</pre>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">markdown-css 会把上一步导出的 html 文件与你编写的样式进行处理，然后输出带有内联样式的 html 文件，默认在当前目录的 <strong style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-weight: bold">public</strong> 下。双击打开输出的 html 文件，然后复制粘贴到微信公众号。</p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">至此，你的自定义排版就大功告成了。</p>
<hr style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: content-box; height: 0; padding: 0; box-sizing: content-box; border: 0; border-bottom: 1px solid #e8e8e8; margin: 14px 0">
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px">如果你在实践的过程中遇到什么问题，可以反馈给我，也许可以帮助到你。</p>
<blockquote style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; display: block; quotes: none"><p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODQwMjA4MA==&amp;mid=2649293603&amp;idx=1&amp;sn=57f38200555dcba76d6358594416c089&amp;mpshare=1&amp;scene=1&amp;srcid=1106ssUPcBWLZUq7D9vqXEkj#rd" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">可能吧的文章是如何排版的？</a></p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px"><a href="http://wowubuntu.com/markdown/" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">markdown</a></p>
<p style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; font-size: 100%; line-height: 1.8; margin-bottom: 1em; letter-spacing: 1px"><a href="http://wecatch.me/markdown-css/" style="outline: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; border: 0; font: inherit; font-size: 100%; padding: 0; margin: 0; vertical-align: baseline; -webkit-overflow-scrolling: touch; text-decoration: none; color: #963; -webkit-transition: color 0.2s; -o-transition: color 0.2s; transition: color 0.2s">markdown-css</a></p>
</blockquote>
</body>
